# Функциональность сохранения менеджера в локальной базе контакта

## Описание
Добавлена возможность сохранения менеджера для контактов в локальном хранилище. Код максимально упрощен - используется существующая инфраструктура без создания лишних методов.

## Изменения в коде

### LocalStorage.php
**Обновлена структура контакта**
- Добавлено поле `manager_id` в методы `createLK()` и `syncContact()`
- Поле заполняется из `ASSIGNED_BY_ID` из данных Bitrix24

### Структура данных контакта
```json
{
  "id": "LK-1234567890-1",
  "bitrix_id": "1",
  "name": "Имя",
  "last_name": "Фамилия",
  "manager_id": "17",
  // ... остальные поля
}
```

## Использование

### Получение менеджера контакта
```php
$managers = $localStorage->getAllManagers();
$manager = $managers[$contact['manager_id']] ?? null;
if ($manager) {
    echo "Менеджер: " . $manager['name'] . " " . $manager['last_name'];
}
```

### Сохранение менеджера для контакта
```php
// Через метод syncContact с обновленными данными
$contactData = [
    'ID' => $contactId,
    'ASSIGNED_BY_ID' => $managerId,
    // ... другие поля контакта
];
$localStorage->syncContact($contactId, $contactData);

// Или прямое обновление через syncContactByBitrixId
$localStorage->syncContactByBitrixId($contactId, $contactData);
```

## Миграция данных
Существующие контакты были обновлены для поддержки поля `manager_id`. Новые контакты будут автоматически получать это поле при создании или синхронизации через методы `createLK()` и `syncContact()`.

## Принцип работы
- Поле `manager_id` в контакте заполняется из `ASSIGNED_BY_ID` при синхронизации с Bitrix24
- Для получения данных менеджера используется метод `getAllManagers()[$managerId]`
- Синхронизация менеджера происходит автоматически при:
  - Создании нового контакта в локальной базе
  - Обновлении существующего контакта
- Менеджер получается из Bitrix24 API и сохраняется в локальном хранилище